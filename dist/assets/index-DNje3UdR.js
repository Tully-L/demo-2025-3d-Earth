import{j as e,C as xe,O as pe,u as ge,a as be,R as ve,s as we,T as je,b as ee,c as te,B as ye,d as W,e as Ne}from"./three-B-kUZCj3.js";import{r as d,R as Ce,b as ke}from"./vendor-CDaM45aE.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I(){return I=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},I.apply(this,arguments)}var E;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(E||(E={}));const J="popstate";function Ee(t){t===void 0&&(t={});function r(a,n){let{pathname:l,search:o,hash:h}=a.location;return $("",{pathname:l,search:o,hash:h},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:O(n)}return Pe(r,s,null,t)}function N(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function re(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Se(){return Math.random().toString(36).substr(2,8)}function H(t,r){return{usr:t.state,key:t.key,idx:r}}function $(t,r,s,a){return s===void 0&&(s=null),I({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?M(r):r,{state:s,key:r&&r.key||a||Se()})}function O(t){let{pathname:r="/",search:s="",hash:a=""}=t;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function M(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substr(s),t=t.substr(0,s));let a=t.indexOf("?");a>=0&&(r.search=t.substr(a),t=t.substr(0,a)),t&&(r.pathname=t)}return r}function Pe(t,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,o=n.history,h=E.Pop,u=null,m=f();m==null&&(m=0,o.replaceState(I({},o.state,{idx:m}),""));function f(){return(o.state||{idx:null}).idx}function c(){h=E.Pop;let i=f(),v=i==null?null:i-m;m=i,u&&u({action:h,location:b.location,delta:v})}function x(i,v){h=E.Push;let y=$(b.location,i,v);m=f()+1;let w=H(y,m),C=b.createHref(y);try{o.pushState(w,"",C)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;n.location.assign(C)}l&&u&&u({action:h,location:b.location,delta:1})}function p(i,v){h=E.Replace;let y=$(b.location,i,v);m=f();let w=H(y,m),C=b.createHref(y);o.replaceState(w,"",C),l&&u&&u({action:h,location:b.location,delta:0})}function g(i){let v=n.location.origin!=="null"?n.location.origin:n.location.href,y=typeof i=="string"?i:O(i);return y=y.replace(/ $/,"%20"),N(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let b={get action(){return h},get location(){return t(n,o)},listen(i){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(J,c),u=i,()=>{n.removeEventListener(J,c),u=null}},createHref(i){return r(n,i)},createURL:g,encodeLocation(i){let v=g(i);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:x,replace:p,go(i){return o.go(i)}};return b}var Z;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Z||(Z={}));function Re(t,r,s){return s===void 0&&(s="/"),Le(t,r,s)}function Le(t,r,s,a){let n=typeof r=="string"?M(r):r,l=D(n.pathname||"/",s);if(l==null)return null;let o=ae(t);Me(o);let h=null;for(let u=0;h==null&&u<o.length;++u){let m=De(l);h=$e(o[u],m)}return h}function ae(t,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(l,o,h)=>{let u={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};u.relativePath.startsWith("/")&&(N(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let m=S([a,u.relativePath]),f=s.concat(u);l.children&&l.children.length>0&&(N(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),ae(l.children,r,f,m)),!(l.path==null&&!l.index)&&r.push({path:m,score:Fe(m,l.index),routesMeta:f})};return t.forEach((l,o)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))n(l,o);else for(let u of se(l.path))n(l,o,u)}),r}function se(t){let r=t.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),l=s.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let o=se(a.join("/")),h=[];return h.push(...o.map(u=>u===""?l:[l,u].join("/"))),n&&h.push(...o),h.map(u=>t.startsWith("/")&&u===""?"/":u)}function Me(t){t.sort((r,s)=>r.score!==s.score?s.score-r.score:We(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Ie=/^:[\w-]+$/,Ue=3,Te=2,Oe=1,Be=10,ze=-2,K=t=>t==="*";function Fe(t,r){let s=t.split("/"),a=s.length;return s.some(K)&&(a+=ze),r&&(a+=Te),s.filter(n=>!K(n)).reduce((n,l)=>n+(Ie.test(l)?Ue:l===""?Oe:Be),a)}function We(t,r){return t.length===r.length&&t.slice(0,-1).every((a,n)=>a===r[n])?t[t.length-1]-r[r.length-1]:0}function $e(t,r,s){let{routesMeta:a}=t,n={},l="/",o=[];for(let h=0;h<a.length;++h){let u=a[h],m=h===a.length-1,f=l==="/"?r:r.slice(l.length)||"/",c=_e({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},f),x=u.route;if(!c)return null;Object.assign(n,c.params),o.push({params:n,pathname:S([l,c.pathname]),pathnameBase:He(S([l,c.pathnameBase])),route:x}),c.pathnameBase!=="/"&&(l=S([l,c.pathnameBase]))}return o}function _e(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=Ae(t.path,t.caseSensitive,t.end),n=r.match(s);if(!n)return null;let l=n[0],o=l.replace(/(.)\/+$/,"$1"),h=n.slice(1);return{params:a.reduce((m,f,c)=>{let{paramName:x,isOptional:p}=f;if(x==="*"){let b=h[c]||"";o=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const g=h[c];return p&&!g?m[x]=void 0:m[x]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:o,pattern:t}}function Ae(t,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),re(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,h,u)=>(a.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function De(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return re(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function D(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}function Ge(t,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof t=="string"?M(t):t;return{pathname:s?s.startsWith("/")?s:Ve(s,r):r,search:Ze(a),hash:Ke(n)}}function Ve(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function F(t,r,s,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Je(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function ne(t,r){let s=Je(t);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function le(t,r,s,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=M(t):(n=I({},t),N(!n.pathname||!n.pathname.includes("?"),F("?","pathname","search",n)),N(!n.pathname||!n.pathname.includes("#"),F("#","pathname","hash",n)),N(!n.search||!n.search.includes("#"),F("#","search","hash",n)));let l=t===""||n.pathname==="",o=l?"/":n.pathname,h;if(o==null)h=s;else{let c=r.length-1;if(!a&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),c-=1;n.pathname=x.join("/")}h=c>=0?r[c]:"/"}let u=Ge(n,h),m=o&&o!=="/"&&o.endsWith("/"),f=(l||o===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(m||f)&&(u.pathname+="/"),u}const S=t=>t.join("/").replace(/\/\/+/g,"/"),He=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ze=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ke=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ie=["post","put","patch","delete"];new Set(ie);const Ye=["get",...ie];new Set(Ye);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U(){return U=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},U.apply(this,arguments)}const G=d.createContext(null),Xe=d.createContext(null),R=d.createContext(null),B=d.createContext(null),P=d.createContext({outlet:null,matches:[],isDataRoute:!1}),oe=d.createContext(null);function Qe(t,r){let{relative:s}=r===void 0?{}:r;T()||N(!1);let{basename:a,navigator:n}=d.useContext(R),{hash:l,pathname:o,search:h}=de(t,{relative:s}),u=o;return a!=="/"&&(u=o==="/"?a:S([a,o])),n.createHref({pathname:u,search:h,hash:l})}function T(){return d.useContext(B)!=null}function z(){return T()||N(!1),d.useContext(B).location}function ce(t){d.useContext(R).static||d.useLayoutEffect(t)}function V(){let{isDataRoute:t}=d.useContext(P);return t?mt():et()}function et(){T()||N(!1);let t=d.useContext(G),{basename:r,future:s,navigator:a}=d.useContext(R),{matches:n}=d.useContext(P),{pathname:l}=z(),o=JSON.stringify(ne(n,s.v7_relativeSplatPath)),h=d.useRef(!1);return ce(()=>{h.current=!0}),d.useCallback(function(m,f){if(f===void 0&&(f={}),!h.current)return;if(typeof m=="number"){a.go(m);return}let c=le(m,JSON.parse(o),l,f.relative==="path");t==null&&r!=="/"&&(c.pathname=c.pathname==="/"?r:S([r,c.pathname])),(f.replace?a.replace:a.push)(c,f.state,f)},[r,a,o,l,t])}function tt(){let{matches:t}=d.useContext(P),r=t[t.length-1];return r?r.params:{}}function de(t,r){let{relative:s}=r===void 0?{}:r,{future:a}=d.useContext(R),{matches:n}=d.useContext(P),{pathname:l}=z(),o=JSON.stringify(ne(n,a.v7_relativeSplatPath));return d.useMemo(()=>le(t,JSON.parse(o),l,s==="path"),[t,o,l,s])}function rt(t,r){return at(t,r)}function at(t,r,s,a){T()||N(!1);let{navigator:n}=d.useContext(R),{matches:l}=d.useContext(P),o=l[l.length-1],h=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let m=z(),f;if(r){var c;let i=typeof r=="string"?M(r):r;u==="/"||(c=i.pathname)!=null&&c.startsWith(u)||N(!1),f=i}else f=m;let x=f.pathname||"/",p=x;if(u!=="/"){let i=u.replace(/^\//,"").split("/");p="/"+x.replace(/^\//,"").split("/").slice(i.length).join("/")}let g=Re(t,{pathname:p}),b=ot(g&&g.map(i=>Object.assign({},i,{params:Object.assign({},h,i.params),pathname:S([u,n.encodeLocation?n.encodeLocation(i.pathname).pathname:i.pathname]),pathnameBase:i.pathnameBase==="/"?u:S([u,n.encodeLocation?n.encodeLocation(i.pathnameBase).pathname:i.pathnameBase])})),l,s,a);return r&&b?d.createElement(B.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:E.Pop}},b):b}function st(){let t=ht(),r=qe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},r),s?d.createElement("pre",{style:n},s):null,null)}const nt=d.createElement(st,null);class lt extends d.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?d.createElement(P.Provider,{value:this.props.routeContext},d.createElement(oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function it(t){let{routeContext:r,match:s,children:a}=t,n=d.useContext(G);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),d.createElement(P.Provider,{value:r},a)}function ot(t,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),t==null){var l;if(!s)return null;if(s.errors)t=s.matches;else if((l=a)!=null&&l.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let o=t,h=(n=s)==null?void 0:n.errors;if(h!=null){let f=o.findIndex(c=>c.route.id&&(h==null?void 0:h[c.route.id])!==void 0);f>=0||N(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let c=o[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(m=f),c.route.id){let{loaderData:x,errors:p}=s,g=c.route.loader&&x[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){u=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((f,c,x)=>{let p,g=!1,b=null,i=null;s&&(p=h&&c.route.id?h[c.route.id]:void 0,b=c.route.errorElement||nt,u&&(m<0&&x===0?(ft("route-fallback"),g=!0,i=null):m===x&&(g=!0,i=c.route.hydrateFallbackElement||null)));let v=r.concat(o.slice(0,x+1)),y=()=>{let w;return p?w=b:g?w=i:c.route.Component?w=d.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=f,d.createElement(it,{match:c,routeContext:{outlet:f,matches:v,isDataRoute:s!=null},children:w})};return s&&(c.route.ErrorBoundary||c.route.errorElement||x===0)?d.createElement(lt,{location:s.location,revalidation:s.revalidation,component:b,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var ue=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ue||{}),he=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(he||{});function ct(t){let r=d.useContext(G);return r||N(!1),r}function dt(t){let r=d.useContext(Xe);return r||N(!1),r}function ut(t){let r=d.useContext(P);return r||N(!1),r}function me(t){let r=ut(),s=r.matches[r.matches.length-1];return s.route.id||N(!1),s.route.id}function ht(){var t;let r=d.useContext(oe),s=dt(),a=me();return r!==void 0?r:(t=s.errors)==null?void 0:t[a]}function mt(){let{router:t}=ct(ue.UseNavigateStable),r=me(he.UseNavigateStable),s=d.useRef(!1);return ce(()=>{s.current=!0}),d.useCallback(function(n,l){l===void 0&&(l={}),s.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,U({fromRouteId:r},l)))},[t,r])}const q={};function ft(t,r,s){q[t]||(q[t]=!0)}function xt(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function L(t){N(!1)}function pt(t){let{basename:r="/",children:s=null,location:a,navigationType:n=E.Pop,navigator:l,static:o=!1,future:h}=t;T()&&N(!1);let u=r.replace(/^\/*/,"/"),m=d.useMemo(()=>({basename:u,navigator:l,static:o,future:U({v7_relativeSplatPath:!1},h)}),[u,h,l,o]);typeof a=="string"&&(a=M(a));let{pathname:f="/",search:c="",hash:x="",state:p=null,key:g="default"}=a,b=d.useMemo(()=>{let i=D(f,u);return i==null?null:{location:{pathname:i,search:c,hash:x,state:p,key:g},navigationType:n}},[u,f,c,x,p,g,n]);return b==null?null:d.createElement(R.Provider,{value:m},d.createElement(B.Provider,{children:s,value:b}))}function gt(t){let{children:r,location:s}=t;return rt(_(r),s)}new Promise(()=>{});function _(t,r){r===void 0&&(r=[]);let s=[];return d.Children.forEach(t,(a,n)=>{if(!d.isValidElement(a))return;let l=[...r,n];if(a.type===d.Fragment){s.push.apply(s,_(a.props.children,l));return}a.type!==L&&N(!1),!a.props.index||!a.props.children||N(!1);let o={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=_(a.props.children,l)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A(){return A=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},A.apply(this,arguments)}function bt(t,r){if(t==null)return{};var s={},a=Object.keys(t),n,l;for(l=0;l<a.length;l++)n=a[l],!(r.indexOf(n)>=0)&&(s[n]=t[n]);return s}function vt(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wt(t,r){return t.button===0&&(!r||r==="_self")&&!vt(t)}const jt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yt="6";try{window.__reactRouterVersion=yt}catch{}const Nt="startTransition",Y=Ce[Nt];function Ct(t){let{basename:r,children:s,future:a,window:n}=t,l=d.useRef();l.current==null&&(l.current=Ee({window:n,v5Compat:!0}));let o=l.current,[h,u]=d.useState({action:o.action,location:o.location}),{v7_startTransition:m}=a||{},f=d.useCallback(c=>{m&&Y?Y(()=>u(c)):u(c)},[u,m]);return d.useLayoutEffect(()=>o.listen(f),[o,f]),d.useEffect(()=>xt(a),[a]),d.createElement(pt,{basename:r,children:s,location:h.location,navigationType:h.action,navigator:o,future:a})}const kt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k=d.forwardRef(function(r,s){let{onClick:a,relative:n,reloadDocument:l,replace:o,state:h,target:u,to:m,preventScrollReset:f,viewTransition:c}=r,x=bt(r,jt),{basename:p}=d.useContext(R),g,b=!1;if(typeof m=="string"&&Et.test(m)&&(g=m,kt))try{let w=new URL(window.location.href),C=m.startsWith("//")?new URL(w.protocol+m):new URL(m),j=D(C.pathname,p);C.origin===w.origin&&j!=null?m=j+C.search+C.hash:b=!0}catch{}let i=Qe(m,{relative:n}),v=St(m,{replace:o,state:h,target:u,preventScrollReset:f,relative:n,viewTransition:c});function y(w){a&&a(w),w.defaultPrevented||v(w)}return d.createElement("a",A({},x,{href:g||i,onClick:b||l?a:y,ref:s,target:u}))});var X;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X||(X={}));var Q;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Q||(Q={}));function St(t,r){let{target:s,replace:a,state:n,preventScrollReset:l,relative:o,viewTransition:h}=r===void 0?{}:r,u=V(),m=z(),f=de(t,{relative:o});return d.useCallback(c=>{if(wt(c,s)){c.preventDefault();let x=a!==void 0?a:O(m)===O(f);u(t,{replace:x,state:n,preventScrollReset:l,relative:o,viewTransition:h})}},[m,u,f,a,n,s,t,l,o,h])}function Pt(){const t=d.useRef(null),r=d.useRef(null),s=d.useRef(null),[a,n,l,o]=be(["/textures/earth-daymap.jpg","/textures/earth-normal.jpg","/textures/earth-specular.jpg","/textures/earth-clouds.png"]);return d.useEffect(()=>{[a,n,l,o].forEach(h=>{h.wrapS=h.wrapT=ve}),a.encoding=we,new je().load("/textures/earth-daymap.jpg",h=>{const u=document.createElement("canvas");u.width=h.image.width,u.height=h.image.height;const m=u.getContext("2d");if(m){m.drawImage(h.image,0,0);const f=m.getImageData(0,0,u.width,u.height),c=f.data,x=15,p=40,g=259*(p+255)/(255*(259-p));for(let i=0;i<c.length;i+=4)c[i]+=x,c[i+1]+=x,c[i+2]+=x,c[i]=g*(c[i]-128)+128,c[i+1]=g*(c[i+1]-128)+128,c[i+2]=g*(c[i+2]-128)+128,c[i+2]>c[i]&&c[i+2]>c[i+1]&&(c[i+2]=Math.min(255,c[i+2]+15),c[i]=Math.max(0,c[i]-10),c[i+1]=Math.max(0,c[i+1]-5)),c[i+1]>c[i]&&c[i+1]>c[i+2]&&(c[i+1]=Math.min(255,c[i+1]+15),c[i]=Math.max(0,c[i]-5),c[i+2]=Math.max(0,c[i+2]-10));m.putImageData(f,0,0);const b=new ee(u);if(b.needsUpdate=!0,t.current){const i=t.current.material;i.map=b,i.needsUpdate=!0}}})},[a,n,l,o]),te(({clock:h})=>{t.current&&(t.current.rotation.y=h.getElapsedTime()*.05),r.current&&(r.current.rotation.y=h.getElapsedTime()*.055)}),e.jsxs("group",{children:[e.jsxs("mesh",{ref:s,children:[e.jsx("sphereGeometry",{args:[2.1,64,64]}),e.jsx("meshPhongMaterial",{color:"#aaddff",side:ye,transparent:!0,opacity:.09})]}),e.jsxs("mesh",{ref:t,children:[e.jsx("sphereGeometry",{args:[2,64,64]}),e.jsx("meshPhongMaterial",{map:a,normalMap:n,specularMap:l,shininess:18,specular:new W("#777777"),emissive:new W("#113366"),emissiveIntensity:.12})]}),e.jsxs("mesh",{ref:r,children:[e.jsx("sphereGeometry",{args:[2.01,64,64]}),e.jsx("meshPhongMaterial",{map:o,transparent:!0,opacity:.35,depthWrite:!1})]})]})}function Rt(){return e.jsxs("mesh",{position:[0,0,0],children:[e.jsx("sphereGeometry",{args:[1.5,16,16]}),e.jsx("meshBasicMaterial",{color:"#1e88e5",wireframe:!0})]})}function Lt(){const t=d.useRef(null),[r,s]=d.useState(null);return d.useEffect(()=>{const a=document.createElement("canvas");a.width=2048,a.height=1024;const n=a.getContext("2d"),l=n.createLinearGradient(0,0,0,a.height);l.addColorStop(0,"#0066cc"),l.addColorStop(.5,"#0077cc"),l.addColorStop(1,"#0066cc"),n.fillStyle=l,n.fillRect(0,0,a.width,a.height),n.fillStyle="#4caf50",[{x:512,y:400,w:300,h:200},{x:700,y:700,w:160,h:240},{x:1e3,y:400,w:200,h:160},{x:1100,y:600,w:240,h:300},{x:1400,y:400,w:360,h:240},{x:1600,y:760,w:200,h:120}].forEach(u=>{n.beginPath(),n.ellipse(u.x,u.y,u.w,u.h,0,0,Math.PI*2),n.fill()}),n.fillStyle="#ffffff",n.beginPath(),n.ellipse(a.width/2,0,a.width/3,150,0,0,Math.PI*2),n.fill(),n.beginPath(),n.ellipse(a.width/2,a.height,a.width/3,150,0,0,Math.PI*2),n.fill();const h=new ee(a);s(h)},[]),te(({clock:a})=>{t.current&&(t.current.rotation.y=a.getElapsedTime()*.05)}),e.jsxs("mesh",{ref:t,children:[e.jsx("sphereGeometry",{args:[2,64,64]}),r&&e.jsx("meshStandardMaterial",{map:r,metalness:.1,roughness:.4,emissive:new W("#113366"),emissiveIntensity:.15})]})}function Mt({children:t}){const[r,s]=d.useState(!1);return d.useEffect(()=>{const a=()=>{s(!0)};return window.addEventListener("error",a),()=>window.removeEventListener("error",a)},[]),r?e.jsx(Lt,{}):e.jsx(e.Fragment,{children:t})}function It(){const{camera:t}=ge();return d.useEffect(()=>{t.position.set(0,0,5)},[t]),null}function fe({children:t}){return e.jsxs("div",{className:"relative w-full h-full",children:[e.jsxs(xe,{camera:{position:[0,0,5],fov:45},children:[e.jsx(It,{}),e.jsx("ambientLight",{intensity:1.2,color:16777215}),e.jsx("directionalLight",{position:[5,3,5],intensity:1.5,color:16777215}),e.jsx("pointLight",{position:[-5,-2,3],intensity:.6,color:16777164}),e.jsx("pointLight",{position:[0,5,5],intensity:.5,color:16777215}),e.jsx("hemisphereLight",{intensity:.3,color:"#ffffff",groundColor:"#bbbbff"}),e.jsx(Mt,{children:e.jsx(d.Suspense,{fallback:e.jsx(Rt,{}),children:e.jsx(Pt,{})})}),e.jsx(pe,{enableZoom:!0,enablePan:!1,enableRotate:!0,zoomSpeed:.6,rotateSpeed:.4,minDistance:3,maxDistance:10,autoRotate:!1,autoRotateSpeed:.5})]}),t&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"pointer-events-auto",children:t})})]})}const Ut=[],Tt=()=>Ut;function Ot({onCampusSelect:t,className:r=""}){const[s,a]=d.useState(""),[n,l]=d.useState(!1),o=Tt(),h=d.useRef(null),u=d.useRef(null),m=V(),c=[{id:"pearson",name:"Pearson College UWC",nameEn:"Pearson College UWC"},...o].filter(i=>i.nameEn.toLowerCase().includes(s.toLowerCase())||i.name.toLowerCase().includes(s.toLowerCase())),x=i=>{const v=i.target.value;a(v),l(!0)},p=i=>{if(a(i.nameEn),l(!1),i.id==="pearson"){m("/map/pearson");return}if(t){const v={id:i.id,name:i.name,nameEn:i.nameEn,coordinates:i.coordinates||[0,0],description:i.description||""};t(v)}},g=()=>{l(!0)},b=()=>{setTimeout(()=>{l(!1)},200)};return d.useEffect(()=>{const i=v=>{u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]),e.jsxs("div",{className:`relative ${r}`,ref:u,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:h,type:"text",value:s,onChange:x,onFocus:g,onBlur:b,placeholder:"Choose your campus...",className:"w-96 px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/70 text-lg transition-all duration-300"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:e.jsx("svg",{className:"w-6 h-6 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),n&&c.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white/90 backdrop-blur-md rounded-2xl shadow-xl border border-white/30 z-50 overflow-hidden max-h-60 overflow-y-auto",children:c.map(i=>e.jsx("button",{onClick:()=>p(i),className:"w-full px-6 py-4 text-left hover:bg-white/50 transition-colors duration-200 border-b border-white/20 last:border-b-0 text-gray-800",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-base font-medium",children:i.nameEn}),i.name!==i.nameEn&&e.jsx("span",{className:"text-sm text-gray-600 mt-1",children:i.name})]})},i.id))}),n&&s&&c.length===0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white/90 backdrop-blur-md rounded-2xl shadow-xl border border-white/30 z-50 overflow-hidden",children:e.jsxs("div",{className:"px-6 py-4 text-gray-600 text-center",children:['No campuses found matching "',s,'"']})})]})}function Bt(){const t=r=>{console.log("选择的校区:",r)};return e.jsxs("div",{className:"min-h-screen flex flex-col relative",style:{background:"linear-gradient(to bottom, #1e40af 0%, #1e3a8a 15%, #0891b2 30%, #0ea5e9 45%, #0284c7 60%, #0369a1 75%, #1e40af 90%, #3730a3 100%)"},children:[e.jsx("div",{className:"fixed top-6 left-6 z-[9999]",children:e.jsx("button",{className:"px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 text-white text-lg font-medium",children:"🌍Home"})}),e.jsxs("div",{className:"fixed top-6 right-6 flex space-x-4 z-[9999]",children:[e.jsx(k,{to:"/about",children:e.jsx("button",{className:"px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 text-white text-lg font-medium",children:"About"})}),e.jsx(k,{to:"/gallery",children:e.jsx("button",{className:"px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 text-white text-lg font-medium",children:"Gallery"})})]}),e.jsx("div",{className:"flex-grow flex flex-col items-center justify-center relative z-10",children:e.jsx("div",{className:"w-full max-w-4xl h-[600px] relative",children:e.jsx(fe,{children:e.jsx(Ot,{onCampusSelect:t,className:"z-50"})})})}),e.jsx("div",{className:"absolute bottom-0.5 left-1/2 transform -translate-x-1/2 z-10",children:e.jsx(k,{to:"/about",children:e.jsxs("div",{className:"flex flex-col items-center space-y-0.3 cursor-pointer group",children:[e.jsx("p",{className:"text-white/80 text-sm font-light tracking-wide group-hover:text-white transition-colors duration-300",children:"Scroll down to explore more"}),e.jsx("div",{className:"animate-bounce",children:e.jsx("svg",{className:"w-8 h-8 text-white/70 group-hover:text-white transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 10l5 5 5-5"})})})]})})})]})}function zt(){const[t,r]=d.useState(""),[s,a]=d.useState(!1),[n,l]=d.useState(null),[o,h]=d.useState("No file chosen"),u=f=>{if(f.target.files&&f.target.files[0]){const c=f.target.files[0];h(c.name);const x=new FileReader;x.onload=p=>{var g;l((g=p.target)==null?void 0:g.result)},x.readAsDataURL(c)}else alert("Please select a file to upload"),h("No file chosen")},m=async f=>{f.preventDefault(),a(!0),setTimeout(()=>{alert("Thank you! Your message has been sent to ecofairuwc@gmail.com"),r(""),l(null),a(!1)},1e3)};return e.jsxs("div",{className:"min-h-screen flex flex-col relative",style:{background:"linear-gradient(to bottom, #1e40af 0%, #1e3a8a 15%, #0891b2 30%, #0ea5e9 45%, #0284c7 60%, #0369a1 75%, #1e40af 90%, #3730a3 100%)"},children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"fixed top-6 left-6",children:e.jsx(k,{to:"/",children:e.jsx("button",{className:"px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 text-white text-lg font-medium",children:"🌍Home"})})}),e.jsxs("div",{className:"fixed top-6 right-6 flex space-x-4",children:[e.jsx("button",{className:"px-6 py-4 bg-white/30 backdrop-blur-md border border-white/40 rounded-2xl shadow-lg text-white text-lg font-medium",children:"About"}),e.jsx(k,{to:"/gallery",children:e.jsx("button",{className:"px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 text-white text-lg font-medium",children:"Gallery"})})]}),e.jsx("div",{className:"pt-24 pb-12 text-center",children:e.jsx("h1",{className:"text-5xl font-bold text-white tracking-wide",children:"Welcome to Green Pulse! 👋"})})]}),e.jsx("div",{className:"flex-grow flex justify-center px-6 relative z-10",children:e.jsx("div",{className:"max-w-4xl w-full",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-12 mb-16 shadow-xl",children:e.jsxs("div",{className:"text-white leading-relaxed space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Purpose & Vision"}),e.jsx("p",{className:"text-lg opacity-90",children:"Through photos, personal stories, and key locations, we hope to:"}),e.jsxs("ul",{className:"list-none space-y-4 mt-4 pl-4",children:[e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-xl",children:"✨"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Spark curiosity"})," – Encourage you to go outside and uncover hidden spots on campus or nearby."]})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-xl",children:"🌿"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Promote outdoor & community vibes"})," – Show how much fun (and accomplishment!) comes from exploring trails—and the memories you'll make along the way."]})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-xl",children:"🌊"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Invite you into nature!"})," – Not sure where to start? This map's packed with easy-to-find spots. Email me if you want the inside scoop!"]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"What's Inside?"}),e.jsxs("ul",{className:"list-none space-y-4 pl-4",children:[e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-xl",children:"📍"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Interactive Map"})," – My fav spots with pics + stories to get you exploring."]})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-xl",children:"📸"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Photo Gallery"})," – A visual love letter to Pearson's landscapes. Soak it in!"]})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-xl",children:"🎵"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Music & Atmosphere"})," – Browse through the views, press play, and pretend you're here."]})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:'Why "Green Pulse"?'}),e.jsx("p",{className:"text-lg opacity-90",children:"Because this place is so alive—the trees, the ocean, the late-night laughter in hallways. I hope this map helps you find your own rhythm here :D"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Join the Adventure!"}),e.jsx("p",{className:"text-lg opacity-90",children:"This project grows with your stories! Email me your photos, favorite spots, or random campus thoughts—let's keep the Green Pulse alive."}),e.jsx("p",{className:"text-lg mt-4 opacity-90 italic",children:"P.S. Seriously, email me! (I'm nice, I promise. ✨)"})]})]})})})}),e.jsx("div",{className:"relative z-10 pb-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-6",children:e.jsxs("div",{className:"bg-white/15 backdrop-blur-lg rounded-3xl p-10 shadow-xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-semibold text-white mb-3",children:"Share Your Story!"}),e.jsx("p",{className:"text-white/90 text-lg",children:e.jsx("span",{className:"font-medium",children:"ecofairuwc@gmail.com"})}),e.jsx("p",{className:"text-white/80 mt-2 text-base",children:"Send your photos or share your favorite campus spots!"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsx("div",{children:e.jsx("textarea",{value:t,onChange:f=>r(f.target.value),placeholder:"Share your campus story or favorite spot...",className:"w-full px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-white placeholder-white/70 text-lg resize-none h-32",required:!0})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/90 text-lg font-medium mb-3",children:"Share a photo:"}),e.jsx("div",{className:"relative",children:e.jsxs("label",{className:"w-full flex items-center px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg focus-within:ring-2 focus-within:ring-white/50 focus-within:border-white/50 cursor-pointer",children:[e.jsx("span",{className:"inline-flex items-center px-4 py-2 bg-white/30 text-white rounded-xl hover:bg-white/40 transition-all duration-300 text-sm font-semibold",children:"Choose File"}),e.jsx("span",{className:"ml-4 text-white/70",children:o}),e.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})})]}),n&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-white mb-2",children:"Selected photo:"}),e.jsxs("div",{className:"relative w-full max-w-xs mx-auto",children:[e.jsx("img",{src:n,alt:"Preview",className:"w-full h-auto rounded-lg border-2 border-white/30"}),e.jsx("button",{type:"button",onClick:()=>{l(null)},className:"absolute top-2 right-2 bg-black/50 text-white w-8 h-8 rounded-full flex items-center justify-center hover:bg-black/70",children:"✕"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",disabled:s,className:"px-12 py-4 bg-white/25 backdrop-blur-md border border-white/40 rounded-2xl shadow-lg hover:bg-white/35 transition-all duration-300 text-white text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Sending...":"Share Your Story"})})]})]})})})]})}async function Ft(){const t=Array.from({length:130},(a,n)=>{const l=n.toString().padStart(3,"0"),o=`/gallery/img${l}.jpg`;return{id:`img${l}`,name:`Image ${n+1}`,type:"image",url:o}}),r=Array.from({length:3},(a,n)=>{const l=n.toString().padStart(3,"0"),o=`/gallery/video${l}.mp4`;return{id:`video${l}`,name:`Video ${n+1}`,type:"video",url:o}});return[...t,...r]}function Wt(){var w;const t=V(),[r,s]=d.useState(0),[a,n]=d.useState([]),[l,o]=d.useState(!0),[h,u]=d.useState(null),[m,f]=d.useState(!1),[c,x]=d.useState(!1),p=d.useRef(null),g="Walk Alone - Zkaaai";d.useEffect(()=>(p.current=new Audio("/music/Zkaaai - Walk Alone.mp3"),p.current.loop=!0,()=>{p.current&&(p.current.pause(),p.current=null)}),[]),d.useEffect(()=>{(async()=>{try{o(!0),u(null);const j=await Ft();if(j.length===0)throw new Error("No media files found in the gallery");n(j)}catch(j){u(j instanceof Error?j.message:"Failed to load media items"),console.error("Error loading media items:",j)}finally{o(!1)}})()},[]),d.useEffect(()=>{f(!1)},[r]);const b=()=>{p.current&&(c?p.current.pause():p.current.play(),x(!c))},i=()=>{f(!0)},v=C=>{const j=C.target;j.tagName==="H2"&&j.textContent==="Click to return to Map"?t("/map/pearson"):f(!1)},y=C=>{const j=C.target;console.error("Error loading media:",j.src)};return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-900 to-blue-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-white text-xl",children:"Loading gallery..."})]})}):h?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-900 to-blue-700",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("p",{className:"text-2xl mb-4",children:"Oops!"}),e.jsx("p",{className:"text-xl mb-6",children:h}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-white/20 backdrop-blur-md rounded-xl hover:bg-white/30 transition-all",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",style:{background:"linear-gradient(to bottom, #1e40af 0%, #1e3a8a 15%, #0891b2 30%, #0ea5e9 45%, #0284c7 60%, #0369a1 75%, #1e40af 90%, #3730a3 100%)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-30",children:e.jsx(fe,{})}),e.jsx("div",{className:"fixed top-6 left-6 z-[9999]",children:e.jsx(k,{to:"/",children:e.jsx("button",{className:"px-6 py-3 bg-white/20 backdrop-blur-md border border-white/30 rounded-xl shadow-lg hover:bg-white/30 transition-all duration-300 text-white text-lg font-medium",children:"Home"})})}),e.jsxs("div",{className:"fixed top-6 right-6 flex space-x-4 z-[9999]",children:[e.jsx(k,{to:"/about",children:e.jsx("button",{className:"px-6 py-3 bg-white/20 backdrop-blur-md border border-white/30 rounded-xl shadow-lg hover:bg-white/30 transition-all duration-300 text-white text-lg font-medium",children:"About"})}),e.jsx("button",{className:"px-6 py-3 bg-white/30 backdrop-blur-md border border-white/40 rounded-xl shadow-lg text-white text-lg font-medium",children:"Gallery"})]}),e.jsx("div",{className:"flex-grow flex flex-col items-center justify-center p-8",children:e.jsxs("div",{className:"relative w-full max-w-4xl aspect-[16/9] perspective-1000",children:[e.jsxs("div",{className:`relative w-full h-full transform-style-3d transition-transform duration-700 ${m?"rotate-y-180":""}`,children:[e.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden cursor-pointer",onClick:i,children:e.jsx("div",{className:"w-full h-full rounded-2xl overflow-hidden bg-white/10 backdrop-blur-md border border-white/20",children:((w=a[r])==null?void 0:w.type)==="video"?e.jsx("video",{src:a[r].url,className:"w-full h-full object-cover",controls:!0,autoPlay:!0,muted:!0,loop:!0,onError:y}):e.jsx("img",{src:a[r].url,alt:a[r].name,className:"w-full h-full object-cover",onError:y})})}),e.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 cursor-pointer",onClick:v,children:e.jsx("div",{className:"w-full h-full rounded-2xl overflow-hidden bg-white/20 backdrop-blur-lg flex items-center justify-center",children:e.jsx("div",{className:"text-white text-center",children:e.jsx("h2",{className:"text-2xl hover:text-blue-300 transition-colors border-2 border-white/50 rounded-xl px-6 py-3",children:"Click to return to Map"})})})})]}),!m&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:C=>{C.stopPropagation(),s(j=>(j-1+a.length)%a.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 text-white bg-black/50 rounded-full p-3 hover:bg-black/70 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:C=>{C.stopPropagation(),s(j=>(j+1)%a.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 text-white bg-black/50 rounded-full p-3 hover:bg-black/70 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),e.jsx("div",{className:"fixed bottom-6 right-6 z-[9999]",children:e.jsxs("div",{className:"flex items-center space-x-3 bg-white/20 backdrop-blur-md border border-white/30 rounded-xl shadow-lg px-4 py-2",children:[e.jsx("button",{onClick:b,className:"w-8 h-8 flex items-center justify-center bg-white/30 rounded-lg hover:bg-white/40 transition-all duration-300 text-sm",children:c?"⏸️":"▶️"}),e.jsxs("div",{className:"text-white text-sm",children:[e.jsx("span",{className:"opacity-80",children:c?"Playing: ":"Paused: "}),e.jsx("span",{children:g})]})]})})]})}const $t=[{id:"dining-hall-pie",name:"Dining Hall Pie Club",coordinates:{lat:48.3523,lng:-123.524},description:"Community Pie Sharing Event",image:"/test/A convenient sunset, Miti.jpg",story:"Weekly community gathering in the main dining hall where students share homemade pies and discuss sustainability practices. A sweet tradition that brings our diverse international campus together.",type:"activity"},{id:"marine-biology-center",name:"Marine Biology Center",coordinates:{lat:48.3518,lng:-123.5235},description:"Pearson College Marine Research Center",image:"/test/Porphyra Linearis_AI.jpg",story:"State-of-the-art facility for marine biology and environmental research. Students conduct field studies on local Pacific Northwest ecosystems and marine conservation.",type:"building"},{id:"coastal-studies-lab",name:"Coastal Studies Lab",coordinates:{lat:48.3515,lng:-123.525},description:"Coastal Ecology Laboratory",image:"/test/Sound and vision_Alessandro_Carboni_Alaska-impression.jpg",story:"Hands-on research station where students study the Strait of Juan de Fuca tidal pools, marine life, and coastal erosion patterns affecting southern Vancouver Island.",type:"landmark"},{id:"forest-campus-trail",name:"Campus Forest Trail",coordinates:{lat:48.353,lng:-123.5245},description:"Sustainable Forest Education Trail",image:"/test/JosePereyraLucena.jpeg",story:"Interactive hiking trail through the campus forest showcasing old-growth Douglas Fir conservation and Coast Salish indigenous land management practices.",type:"landmark"}];function _t(){const{campus:t}=tt(),[r,s]=d.useState(null),[a,n]=d.useState(1),[l,o]=d.useState("roadmap"),[h,u]=d.useState(!0),m=t==="pearson",f=i=>{s(i),n(1.5)},c=()=>{s(null),n(1)},x=()=>{n(i=>Math.min(i+.3,3))},p=()=>{n(i=>Math.max(i-.3,.5))},g=()=>{const i=["roadmap","satellite","terrain"],y=(i.indexOf(l)+1)%i.length;o(i[y])},b=()=>{switch(l){case"satellite":return"linear-gradient(135deg, #2d5016 0%, #3e6b1f 25%, #4a7c23 50%, #2d5016 75%, #1a3209 100%)";case"terrain":return"linear-gradient(135deg, #8b7355 0%, #a68b5b 25%, #c4a484 50%, #8b7355 75%, #6b5b47 100%)";default:return"linear-gradient(to bottom, #e8f4fd 0%, #b8e6ff 25%, #87ceeb 50%, #4682b4 75%, #2e8b57 100%)"}};return e.jsxs("div",{className:"min-h-screen flex flex-col relative",style:{background:b()},children:[e.jsx("div",{className:"fixed top-6 left-6 z-[9999]",children:e.jsx(k,{to:"/",children:e.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md border border-white/30 rounded-full shadow-lg hover:bg-white/30 transition-all duration-300 flex items-center justify-center cursor-pointer group",children:e.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-green-500 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1 left-1 w-2 h-2 bg-green-600 rounded-full opacity-80"}),e.jsx("div",{className:"absolute bottom-1 right-1 w-3 h-1 bg-blue-600 rounded opacity-60"}),e.jsx("div",{className:"absolute top-3 right-2 w-1 h-1 bg-green-700 rounded-full"})]})})})}),e.jsxs("div",{className:"fixed top-6 right-6 flex space-x-4 z-[9999]",children:[e.jsx(k,{to:"/about",children:e.jsx("button",{className:"px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 text-gray-700 text-lg font-medium",children:"About"})}),e.jsx(k,{to:"/gallery",children:e.jsx("button",{className:"px-6 py-4 bg-white/20 backdrop-blur-md border border-white/30 rounded-2xl shadow-lg hover:bg-white/30 transition-all duration-300 text-gray-700 text-lg font-medium",children:"Gallery"})})]}),!m&&e.jsx("div",{className:"fixed bottom-6 left-6 z-[9999]",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-lg shadow-lg p-4 max-w-xs",children:e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Map Mode:"}),e.jsx("span",{className:"capitalize text-blue-600 font-medium",children:l})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Zoom:"}),e.jsxs("span",{className:"text-blue-600 font-medium",children:[Math.round(a*100),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Locations:"}),e.jsx("span",{className:"text-blue-600 font-medium",children:h?"Visible":"Hidden"})]}),e.jsx("div",{className:"pt-2 border-t border-gray-200",children:e.jsx("span",{className:"text-xs text-gray-500",children:"🏫 Real Campus Map • Social Club Locations"})})]})})}),!m&&e.jsx("div",{className:"fixed bottom-6 right-6 z-[9999]",children:e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("div",{className:"flex flex-col space-y-1 bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("button",{onClick:x,className:"w-12 h-12 bg-white hover:bg-gray-50 transition-all duration-300 flex items-center justify-center text-gray-700 text-xl font-bold border-b border-gray-200",children:"+"}),e.jsx("button",{onClick:p,className:"w-12 h-12 bg-white hover:bg-gray-50 transition-all duration-300 flex items-center justify-center text-gray-700 text-xl font-bold",children:"−"})]}),e.jsxs("button",{onClick:g,className:"w-12 h-12 bg-white rounded-lg shadow-lg hover:bg-gray-50 transition-all duration-300 flex items-center justify-center text-gray-700 text-sm font-medium",title:`Switch to ${l==="roadmap"?"satellite":l==="satellite"?"terrain":"roadmap"} view`,children:[l==="roadmap"&&"🗺️",l==="satellite"&&"🛰️",l==="terrain"&&"⛰️"]}),e.jsx("button",{onClick:()=>u(!h),className:`w-12 h-12 rounded-lg shadow-lg transition-all duration-300 flex items-center justify-center text-sm font-medium ${h?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,title:"Toggle location markers",children:"📍"})]})}),e.jsx("div",{className:"flex-grow flex items-center justify-center relative overflow-hidden",children:m?e.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:e.jsx("div",{className:"relative w-full h-[80vh] max-w-6xl rounded-3xl shadow-2xl border-2 border-white/50 overflow-hidden",children:e.jsx("iframe",{src:"https://www.google.com/maps/d/u/0/embed?mid=1kaZ702EFoVPBuG5UdV1cZUO8Igv379o&ehbc=2E312F",width:"100%",height:"100%",className:"absolute inset-0",title:"Pearson College UWC Campus Map",frameBorder:"0",allowFullScreen:!0})})}):e.jsx("div",{className:"relative w-full h-full max-w-6xl max-h-[80vh] transition-transform duration-500",style:{transform:`scale(${a})`},children:e.jsx("div",{className:"relative w-full h-full rounded-3xl shadow-2xl border-2 border-white/50 overflow-hidden",children:e.jsxs("div",{className:"absolute inset-0 z-50",children:[e.jsxs("div",{className:"absolute inset-0 z-50",children:[e.jsx("img",{src:"/Pearson_College/UWC.jpg",alt:"Pearson College UWC Campus",className:"w-full h-full object-cover z-50",onError:i=>{console.log("Image failed to load:",i.currentTarget.src),console.log("Trying alternative image..."),i.currentTarget.src="/Pearson_College/UWC1.jpg"},onLoad:()=>{console.log("Campus image loaded successfully")}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-100 via-blue-100 to-emerald-100 -z-10",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-600",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🏫"}),e.jsx("p",{className:"text-lg font-medium",children:"Campus Map Loading..."})]})})}),l==="roadmap"&&e.jsx("div",{className:"absolute inset-0 bg-blue-500/5 z-10",children:e.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-10",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"roadGrid",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"#ffffff",strokeWidth:"1"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#roadGrid)"})]})}),l==="satellite"&&e.jsx("div",{className:"absolute inset-0 bg-green-600/5 z-10",children:e.jsx("div",{className:"absolute inset-0 mix-blend-overlay bg-gradient-to-br from-green-300/10 to-blue-300/10"})}),l==="terrain"&&e.jsx("div",{className:"absolute inset-0 bg-yellow-600/5 z-10",children:e.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-15",children:[e.jsx("defs",{children:e.jsxs("pattern",{id:"terrainContour",width:"80",height:"80",patternUnits:"userSpaceOnUse",children:[e.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"none",stroke:"#8b7355",strokeWidth:"1"}),e.jsx("circle",{cx:"40",cy:"40",r:"20",fill:"none",stroke:"#8b7355",strokeWidth:"0.5"})]})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#terrainContour)"})]})})]}),e.jsx("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-30",children:e.jsx("h2",{className:"text-3xl font-bold text-white bg-black/70 backdrop-blur-md px-6 py-3 rounded-xl shadow-lg border border-white/20",children:"Pearson College UWC Campus"})}),e.jsxs("div",{className:"absolute top-20 right-4 w-32 h-24 bg-white/90 rounded-lg shadow-lg overflow-hidden border-2 border-blue-500 z-40",children:[e.jsx("img",{src:"/Pearson_College/UWC.jpg",alt:"Debug Campus View",className:"w-full h-full object-cover",onError:i=>{console.log("Debug image failed:",i.currentTarget.src)},onLoad:()=>{console.log("Debug image loaded")}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs p-1 text-center",children:"Campus Test"})]}),h&&$t.map((i,v)=>{const w=[{left:"25%",top:"30%"},{left:"60%",top:"45%"},{left:"40%",top:"65%"},{left:"70%",top:"25%"}][v]||{left:"50%",top:"50%"};return e.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group z-20",style:{left:w.left,top:w.top,zIndex:(r==null?void 0:r.id)===i.id?100:50},onClick:()=>f(i),children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-10 h-10 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center ${(r==null?void 0:r.id)===i.id?"bg-blue-500 border-3 border-white scale-125":"bg-red-500 border-2 border-white group-hover:bg-red-600 group-hover:scale-110"}`,children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})})}),e.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 bg-white/95 backdrop-blur-md px-3 py-1 rounded-lg shadow-md border border-gray-200 opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:i.name})}),(r==null?void 0:r.id)===i.id&&e.jsx("div",{className:"absolute -top-8 -left-8 w-16 h-16 bg-red-500/20 border-2 border-red-500 rounded-full animate-pulse"})]})},i.id)})]})})})}),!m&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[r.image&&e.jsxs("div",{className:"relative h-72 overflow-hidden",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-6 left-8 text-white",children:[e.jsx("h3",{className:"text-4xl font-bold drop-shadow-lg mb-2",children:r.name}),e.jsx("p",{className:"text-xl opacity-90 drop-shadow-md",children:r.description})]}),e.jsx("button",{onClick:c,className:"absolute top-6 right-6 w-12 h-12 bg-white/90 hover:bg-white rounded-full flex items-center justify-center transition-all duration-300 shadow-lg group",children:e.jsx("svg",{className:"w-6 h-6 text-gray-700 group-hover:text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-emerald-500 text-white px-4 py-2 rounded-full font-medium capitalize text-sm",children:r.type}),e.jsxs("span",{className:"font-mono text-sm text-gray-500",children:["📍 ",r.coordinates.lat.toFixed(4),"°N, ",Math.abs(r.coordinates.lng).toFixed(4),"°W"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-emerald-50 to-blue-50 p-6 rounded-2xl border border-gray-200",children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-3 text-lg flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📖"}),"Campus Social Club Story"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:r.story})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🔍"}),"Click other red markers to explore more social clubs"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>n(2),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors duration-300 text-sm font-medium",children:"Zoom to Location"}),e.jsx("button",{onClick:c,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-300 text-sm font-medium",children:"Close"})]})]})]})})]})})]})}function At(){return e.jsx("div",{className:"min-h-screen bg-light-ocean",children:e.jsxs(gt,{children:[e.jsx(L,{path:"/",element:e.jsx(Bt,{})}),e.jsx(L,{path:"/about",element:e.jsx(zt,{})}),e.jsx(L,{path:"/map/:campus",element:e.jsx(_t,{})}),e.jsx(L,{path:"/gallery",element:e.jsx(Wt,{})}),e.jsx(L,{path:"/admin",element:e.jsx("div",{children:"管理页面开发中..."})})]})})}Ne.createRoot(document.getElementById("root")).render(e.jsx(ke.StrictMode,{children:e.jsx(Ct,{children:e.jsx(At,{})})}));
